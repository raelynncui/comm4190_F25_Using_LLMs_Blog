<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Raelynn Cui">
<meta name="dcterms.date" content="2025-11-04">
<meta name="description" content="The AUT (Alternative Uses Test)">

<title>Book Reflection #4 ‚Äì Raelynn Cui</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-fa6ebe1abc24c69c1ddb9a141d0fa116.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Raelynn Cui</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/raelynncui"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/raelynncui"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Book Reflection #4</h1>
                  <div>
        <div class="description">
          The AUT (Alternative Uses Test)
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">LLMs</div>
                <div class="quarto-category">ChatGPT</div>
                <div class="quarto-category">Claude</div>
                <div class="quarto-category">Gemini</div>
                <div class="quarto-category">Book Reflection</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Raelynn Cui </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">November 4, 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="book-reflection-4" class="level1">
<h1>Book Reflection #4</h1>
<p><img src="cover.jpeg" width="100%"></p>
<p>In the chapter ‚ÄúAI as a Creative,‚Äù Mollick talks about the AUT (Alternative Uses Test), comparing a human‚Äôs performance to an AI. The AUT, for context, is a measure of divergent thinking, which is one component of creativity. It was originally developed by J.P. Guilford (1967) as part of his work on the Structure of Intellect model of human intelligence. In this test, participants are given a common object (e.g., a brick, paperclip, shoe, or newspaper) and asked to come up with as many alternative uses for it as possible ‚Äì usually within a fixed time limit (for example, 2‚Äì3 minutes per object).</p>
<p>Mollick brought up the AUT to demonstrate that LLMs significantly outperform us humans on the timed version of this test. He used a toothbrush as an example, and the LLM was able to generate 122 ‚Äúalternative uses‚Äù in two minutes ‚Äì far more than a human would be able to.</p>
<p><img src="toothbrush.jpg" width="60%"></p>
<p>I wanted to test this out for myself, but not through the timed version of the test (since it would be difficult to standardize what ‚Äútime‚Äù means for an LLM).</p>
<p>In my version of the experiment, I was still up against an LLM, but instead of quantity, our alternative uses would be judged on creativity.</p>
<p>First, I generated a list of 10 alternative uses for a toothbrush. I didn‚Äôt aim to make them as outlandish or creative as possible ‚Äì I simply listed the first 10 ideas that came into mind when told to ‚Äúcome up with 10 uses for a toothbrush that don‚Äôt involve brushing teeth.‚Äù</p>
<p>My 10 ideas are as follows: 1. Use the end of the toothbrush to pole holes in dirt, which you can plant seeds in. 2. Use the bristles as a textured paintbrush. 3. Use the bristles to clean shoes. 4. Use the bristles to brush a pet‚Äôs hair. 5. Use the toothbrush as a bookmark when reading. 6. Use the end of the toothbrush as a drum stick to make music. 7. Glue the toothbrush to the end of a short pencil to make it longer. 8. Use two toothbrushes as chopsticks. 9. Use the bristles to exfoliate your skin. 10. Use a bunch of toothbrushes to play Jenga.</p>
<p>I definitely felt myself slowing down after the 6th idea, and it took quite a bit of time to think of all 10.</p>
<p><img src="ideas.png" width="60%"></p>
<p>Then, I prompted three LLMs (ChatGPT, Claude, Gemini) with the follwing prompt: &gt; Come up with 10 uses for a toothbrush that don‚Äôt involve brushing teeth.</p>
<section id="chatgpt-5s-response" class="level3">
<h3 class="anchored" data-anchor-id="chatgpt-5s-response">ChatGPT 5‚Äôs Response</h3>
<p>Here are 10 alternative uses for a toothbrush that don‚Äôt involve brushing teeth:</p>
<ol type="1">
<li><strong>Cleaning jewelry</strong> ‚Äì the small bristles can gently scrub dirt and grime from rings, necklaces, and watch links.</li>
<li><strong>Detailing shoes</strong> ‚Äì perfect for cleaning hard-to-reach spots in sneaker soles or seams.</li>
<li><strong>Scrubbing grout</strong> ‚Äì the narrow head fits perfectly between tiles to remove buildup.</li>
<li><strong>Cleaning keyboards</strong> ‚Äì loosen crumbs and dust between keys.</li>
<li><strong>Eyebrow grooming</strong> ‚Äì use a clean toothbrush to shape or exfoliate eyebrows.</li>
<li><strong>Hair dye application</strong> ‚Äì apply dye to small sections or roots precisely.</li>
<li><strong>Cleaning bike chains or gears</strong> ‚Äì scrub grease from tight spots without damaging parts.</li>
<li><strong>Cleaning kitchen tools</strong> ‚Äì reach crevices in blenders, graters, and bottle caps.</li>
<li><strong>Removing lint or fuzz</strong> ‚Äì brush sweaters or fabric seams to lift lint.</li>
<li><strong>Arts and crafts</strong> ‚Äì create splatter paint textures or clean small parts of a model.</li>
</ol>
<p>Would you like me to focus on <em>creative</em>, <em>practical</em>, or <em>scientific/experimental</em> uses next?</p>
</section>
<section id="claude-sonnet-4.5s-response" class="level3">
<h3 class="anchored" data-anchor-id="claude-sonnet-4.5s-response">Claude Sonnet 4.5‚Äôs Response</h3>
<p>Here are 10 creative alternative uses for a toothbrush:</p>
<ol type="1">
<li><p><strong>Cleaning grout</strong> - The small bristles are perfect for scrubbing tile grout lines in bathrooms and kitchens.</p></li>
<li><p><strong>Removing stains from clothing</strong> - Gently scrub stubborn spots on fabric before washing, especially around collars and cuffs.</p></li>
<li><p><strong>Cleaning jewelry</strong> - Use with soapy water to clean intricate details on rings, necklaces, and other pieces.</p></li>
<li><p><strong>Keyboard cleaning</strong> - Brush away dust and crumbs from between computer keys.</p></li>
<li><p><strong>Detailing your car</strong> - Get into small crevices around air vents, buttons, and seams in your vehicle‚Äôs interior.</p></li>
<li><p><strong>Cleaning shoes</strong> - Scrub dirt from sneaker soles and hard-to-reach areas around eyelets and seams.</p></li>
<li><p><strong>Applying hair dye</strong> - Use for precise application along the hairline or for touch-ups on roots.</p></li>
<li><p><strong>Gardening tool</strong> - Gently clean delicate plant leaves or apply pesticides to specific spots.</p></li>
<li><p><strong>Arts and crafts</strong> - Create splatter paint effects or textured brush strokes in artwork.</p></li>
<li><p><strong>Cleaning around faucets</strong> - Scrub away mineral deposits and grime around the base of taps and in tight spaces around fixtures.</p></li>
</ol>
</section>
<section id="gemini-2.5-flashs-response" class="level3">
<h3 class="anchored" data-anchor-id="gemini-2.5-flashs-response">Gemini 2.5 Flash‚Äôs Response</h3>
<p>That‚Äôs a fun challenge! A toothbrush‚Äôs small size, tough bristles, and easy grip make it surprisingly useful for other tasks.</p>
<p>Here are 10 uses for a toothbrush that don‚Äôt involve brushing teeth:</p>
</section>
<section id="household-cleaning-uses" class="level3">
<h3 class="anchored" data-anchor-id="household-cleaning-uses">üõ†Ô∏è Household &amp; Cleaning Uses</h3>
<ol type="1">
<li><strong>Grout Cleaner:</strong> Its small head and stiff bristles are perfect for scrubbing mold and dirt out of the narrow lines between bathroom and kitchen tiles.</li>
<li><strong>Keyboard Cleaner:</strong> Use it to sweep dust, crumbs, and debris from in between the keys on a computer keyboard.</li>
<li><strong>Appliance Crevice Scrubber:</strong> Great for reaching and scrubbing tight spots in kitchen appliances, like the lip around a blender base or the vents of a toaster.</li>
<li><strong>Jewelry Cleaner:</strong> Use a soft-bristled brush and a gentle cleaning solution (like mild soap and water) to carefully scrub dirt and grime from rings, necklaces, and watch bands.</li>
</ol>
<hr>
</section>
<section id="personal-care-beauty-uses" class="level3">
<h3 class="anchored" data-anchor-id="personal-care-beauty-uses">üé® Personal Care &amp; Beauty Uses</h3>
<ol start="5" type="1">
<li><strong>Eyebrow Tamer/Shaper:</strong> Use a clean, dry toothbrush to comb and shape unruly eyebrows, keeping them neat and in place.</li>
<li><strong>Hairline/Root Touch-up:</strong> An old toothbrush is excellent for applying a small amount of root-cover-up powder or temporary hair dye to small sections of the hairline.</li>
<li><strong>Exfoliating Lip Scrubber:</strong> Gently scrub your lips with a soft toothbrush and a little bit of lip balm or petroleum jelly to remove dead skin.</li>
</ol>
<hr>
</section>
<section id="hobby-other-uses" class="level3">
<h3 class="anchored" data-anchor-id="hobby-other-uses">‚öôÔ∏è Hobby &amp; Other Uses</h3>
<ol start="8" type="1">
<li><strong>Shoe Scrubber:</strong> Ideal for cleaning the rubber sole edges, stitching, and hard-to-reach fabric textures of sneakers and other shoes.</li>
<li><strong>Detail/Art Tool:</strong> Use a toothbrush to flick or splatter paint onto a canvas for a specific artistic effect, or to apply glue to tiny parts of a model or craft project.</li>
<li><strong>Battery Terminal Cleaner:</strong> Use an old, dry toothbrush to scrub corrosion (the white/blue powder) off the terminals inside battery compartments of electronics. <strong>(Ensure the item is powered off and use caution!)</strong></li>
</ol>
<hr>
<p>Would you like me to come up with 10 more uses, or perhaps focus on uses for a specific area, like cleaning or art projects?</p>
<p><img src="generate.jpg" width="60%"></p>
<p>After having the LLMs generate a list of ideas, I wanted to test whose was more creative ‚Äì mine (list A), ChatGPT‚Äôs (list B), Claude‚Äôs (list C), or Gemini‚Äôs (list D). To do this, I prompted ChatGPT 5: &gt; Given these 5 lists of alternative uses for a toothbrush, rank them in order of most to least creative. Give a brief justification for your ranking.</p>
<p>This was the response:</p>
<p>Here‚Äôs a creativity ranking of the five lists (A‚ÄìD), from <strong>most to least creative</strong>, with concise reasoning for each:</p>
<hr>
</section>
<section id="list-a-most-creative" class="level3">
<h3 class="anchored" data-anchor-id="list-a-most-creative">ü•á <strong>1. List A ‚Äî Most Creative</strong></h3>
<p><strong>Why:</strong> This list shows strong <em>conceptual flexibility</em>‚Äîit reimagines the toothbrush far beyond cleaning functions. Examples like <strong>using toothbrushes as chopsticks</strong>, a <strong>bookmark</strong>, or for <strong>Jenga</strong> demonstrate divergent thinking that departs from the toothbrush‚Äôs typical category (cleaning/personal care). Even the ‚Äúdrum stick‚Äù and ‚Äúseed hole poker‚Äù ideas show cross-domain creativity (art, gardening, music). A few are impractical, but that‚Äôs expected in highly creative responses.</p>
<p><strong>Creativity Traits:</strong> Originality ‚úÖ Flexibility ‚úÖ Practicality ‚ùå (lower) <strong>Overall Impression:</strong> Inventive and playful reinterpretation of object function.</p>
<hr>
</section>
<section id="list-d" class="level3">
<h3 class="anchored" data-anchor-id="list-d">ü•à <strong>2. List D</strong></h3>
<p><strong>Why:</strong> List D introduces <em>structured categories</em> (household, beauty, hobby), which shows organization but also breadth. Ideas like <strong>battery terminal cleaner</strong> and <strong>paint splatter tool</strong> are inventive within plausible domains. It doesn‚Äôt push boundaries as far as List A, but it demonstrates <em>adaptiveness</em>‚Äîfinding multiple real-world contexts where a toothbrush fits.</p>
<p><strong>Creativity Traits:</strong> Originality ‚ö™ Flexibility ‚úÖ Practicality ‚úÖ <strong>Overall Impression:</strong> Versatile and balanced‚Äîless surprising than A, but broader than B/C.</p>
<hr>
</section>
<section id="list-c" class="level3">
<h3 class="anchored" data-anchor-id="list-c">ü•â <strong>3. List C</strong></h3>
<p><strong>Why:</strong> List C has solid variety and a few less typical uses (like <strong>cleaning plant leaves</strong> or <strong>applying pesticide</strong>), but most are standard cleaning or beauty-related functions. It‚Äôs somewhat more imaginative than List B because it includes minor domain shifts (gardening, art), though it still stays largely realistic.</p>
<p><strong>Creativity Traits:</strong> Originality ‚ö™ Flexibility ‚ö™ Practicality ‚úÖ <strong>Overall Impression:</strong> Practical with mild creativity‚Äîincremental innovation.</p>
<hr>
</section>
<section id="list-b" class="level3">
<h3 class="anchored" data-anchor-id="list-b">4Ô∏è‚É£ <strong>List B</strong></h3>
<p><strong>Why:</strong> This list is filled with <em>realistic, common-life hacks</em>‚Äîuseful but not novel. Nearly all revolve around cleaning or grooming (grout, jewelry, keyboards, lint). These are well-known secondary uses and would likely occur to many participants in an Alternative Uses Test.</p>
<p><strong>Creativity Traits:</strong> Originality ‚ùå Flexibility ‚ö™ Practicality ‚úÖ‚úÖ <strong>Overall Impression:</strong> Functional but conventional.</p>
<hr>
</section>
<section id="list-e-if-there-were-one-but-only-ad-were-given-so-ignoring-this-placeholder" class="level3">
<h3 class="anchored" data-anchor-id="list-e-if-there-were-one-but-only-ad-were-given-so-ignoring-this-placeholder">5Ô∏è‚É£ <strong>List E</strong> (if there were one, but only A‚ÄìD were given, so ignoring this placeholder)</h3>
<hr>
<p>‚úÖ <strong>Final Ranking:</strong></p>
<ol type="1">
<li><strong>A</strong> ‚Äî Highly original, broad repurposing</li>
<li><strong>D</strong> ‚Äî Broad but realistic category expansion</li>
<li><strong>C</strong> ‚Äî Practical with slight novelty</li>
<li><strong>B</strong> ‚Äî Conventional and utilitarian</li>
</ol>
<hr>
<p>Would you like me to quantify this (e.g., with Torrance-style scores for fluency, flexibility, originality, and elaboration)?</p>
</section>
<section id="results" class="level2">
<h2 class="anchored" data-anchor-id="results">Results</h2>
<p>It ultimately ranked my list as the most creative (across three different iterations), which was really surprising! However, looking back on ChatGPT‚Äôs justification for why it ranked mine as the most creative, I think this was because my prompt to the LLMs mentioned nothing about creativity ‚Äì whereas I had creativity in the back of my mind (since this was what I knew I wanted to test), the LLM prompts simply requested ‚Äúalternative uses.‚Äù If I had prompted the LLMs to brainstorm creative uses instead, I‚Äôm almost sure that they would have performed better than me.</p>
<p>In the future, I would re-try this AUT but with more accurate and refined prompting to give the LLMs a more ‚Äúfair‚Äù shot. I think there may be other interesting dimensions of the AUT to test as well ‚Äì Mollick tested time/quantity, I tested quality/creativity, and I‚Äôm wondering if there are more that I could experiment with!</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "Óßã";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/raelynncui\.github\.io\/comm4190_F25_Using_LLMs_Blog\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>